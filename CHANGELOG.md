# История изменений (Changelog)

Все значимые изменения проекта будут задокументированы в этом файле.

## [Unreleased]

## [0.0.1] - 2025-12-05
### Добавлено
- Начальная структура проекта.
- Файлы документации: README, ROADMAP, AI_RULES (переведены на русский).
- Базовое отслеживание задач.
- **Инфраструктура**: Docker Compose конфигурация (Bot, WebApp, Postgres).
- **Бот**: Базовая структура на Python (aiogram 3.x).
- **Интеграция**: Реализован сервис `NanoBananaService` на базе `google-genai`.
- **Функционал**: Поддержка 3-х моделей генерации (Nano Banana, Pro, Imagen) и команда `/generate`.
- **Web App**: Реализован React-интерфейс (выбор модели, настройки, ввод промпта) и стилизация "Nano Banana".
- **Бот**: Добавлена обработка данных (`web_app_data`) от Telegram Mini App.
- **Деплой**: Настроена конфигурация для публикации Web App на GitHub Pages.

## [0.0.2] - 2025-12-06
### Добавлено
- **UX**: В интерфейс бота добавлены кнопки для быстрого переключения режимов (Flash, Pro, Imagen) вместо dropdown-меню.
- **Диалоги**: Реализован режим полноценного диалога с моделью Nano Banana Pro (Gemini 3.0 Pro) для уточнения генераций.
- **Кнопка "Завершить"**: Добавлена специальная кнопка для явного выхода из режима диалога.
- **Аргументы**: Поддержка ключей `--2k` и `--4k` в тексте промпта для управления разрешением (при наличии доступа).
- **Аргументы**: Поддержка ключа `--ar X:Y` в тексте промпта для установки соотношения сторон.

### Изменено
- **Модели**: Обновлены системные промпты и конфигурации для использования новых моделей Gemini 2.5 Flash и Gemini 3.0 Pro.
- **Web App**: Полный редизайн выпадающего списка (Dropdown) для выбора соотношения сторон — теперь стильно и без багов (двойных стрелок).
- **Web App**: Улучшены отступы и визуальное разделение блоков в интерфейсе.
- **Web App**: Исправлены скроллбары.

### Исправлено
- Починена ошибка `NameError`, возникавшая при отправке фото-референса в чат.
- Исправлен баг с "двойным нажатием" на кнопку завершения или отмены, приводивший к ошибкам в логах.
- Исправлена работа команды `/pro` (восстановлено потерянное меню отмены).
