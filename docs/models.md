## Модели и режимы

Ниже — краткая сводка используемых моделей, их API-названий в Google GenAI и поддерживаемых режимов (AR, разрешения, диалог/референсы).

### Imagen 4
- Fast: `imagen-4.0-fast-generate-001`
  - AR: `1:1`, `3:4`, `4:3`, `9:16`, `16:9`
  - Разрешения: фикс. 1K (image_size не задается)
  - Диалог: нет
  - Референсы: нет
  - personGeneration: `allow_all` (по умолчанию)
- Standard (Basic): `imagen-4.0-generate-001`
  - AR: `1:1`, `3:4`, `4:3`, `9:16`, `16:9`
  - Разрешения: `1K`, `2K`
  - Диалог: нет
  - Референсы: нет
  - personGeneration: `allow_all` (по умолчанию)
- Ultra: `imagen-4.0-ultra-generate-001`
  - AR: `1:1`, `3:4`, `4:3`, `9:16`, `16:9`
  - Разрешения: `1K`, `2K`
  - Диалог: нет
  - Референсы: нет
  - personGeneration: `allow_all` (по умолчанию)

### Nano Banana (Gemini)
- Flash: `gemini-2.5-flash-image`
  - AR: свободно, но UI: `1:1`, `16:9`, `9:16`, `4:3`, `3:4`, `21:9`, `9:21`
  - Разрешения: фикс. базовое (image_size не задается)
  - Диалог: да (поддерживается в боте)
  - Референсы: да (до лимитов тарифа)
- Pro: `gemini-3-pro-image-preview`
  - AR: свободно, но UI: `1:1`, `16:9`, `9:16`, `4:3`, `3:4`, `21:9`, `9:21`
  - Разрешения: `1024x1024`, `2K`, `4K` (лимиты тарифа)
  - Диалог: да (многоходовая сессия)
  - Референсы: да (до лимитов тарифа)

### Примечания по тарифам (кратко)
- Демонстрационный тариф ограничивает AR для Imagen — только `1:1` (через общую валидацию).
- Доступность 2K/4K и количества референсов регулируется тарифами (см. `pricing.py`, `TARIFFS`).

### Поведение по умолчанию
- Для Imagen Standard/Ultra: `personGeneration = allow_all`.
- Для Imagen Fast: `personGeneration = allow_all`, image_size не задается.
- Ввод `--1k/--2k/--4k` в промпте нормализуется: для Imagen `4K` приводится к `2K`.

